!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).Invi={})}(this,function(t){"use strict";var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var f=function(){return(f=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t){var e={}.toString.call(t).split(" ")[1].slice(0,-1).toLowerCase();return e.match(/element$/)?"element":e}var e=(o.prototype.on=function(t,e){(this._events[t]||(this._events[t]=[])).push(e)},o.prototype.off=function(t,e){this._events[t]&&this._events[t].splice(this._events[t].indexOf(e)>>>0,1)},o.prototype.removeAllListeners=function(){this._events={}},o.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];(this._events[t]||[]).slice().map(function(t){t.apply(void 0,e)})},o);function o(){this._events={}}function i(t,n,o){function e(t){var e=function(t,e,n){void 0===n&&(n=document.body);for(var o,i=[],s=function(t,e){return[].map.call(t,e)}(n.querySelectorAll(e),function(t){return t});t&&!~s.indexOf(t);)t=t!==n&&!(null!=(o=t)&&o.nodeType==o.DOCUMENT_NODE)&&t.parentNode;return t&&i.indexOf(t)<0&&i.push(t),i}(t.target,n,i)[0];e&&o(e,t)}var i=this;return i.addEventListener(t,e),function(){i.removeEventListener(t,e)}}var s,r,c,u="switch",l={selectors:{tab:"a",content:"article"},classes:{},event:"click",index:0},h=(n(s=v,r=c=e),void(s.prototype=null===r?Object.create(r):(p.prototype=r.prototype,new p)),v.config=function(t,e){var n=function t(e,n){var o=f({},e);if("object"!==a(n))return o;for(var i in n){var s=e[i],r=n[i],c=a(s);null!=s?c===a(r)&&(o[i]="object"===c?t(s,r):r):o[i]=r}return o}(l,t);if(e)return n;l=n},v.prototype.switch=function(t){if(t!==this._current&&this._tabs[t]){var e=this._current,n=this._config.classes,o=this._tabs[e],i=this._contents[e],s=this._tabs[t],r=this._contents[t];n.active&&(o&&o.classList.remove(n.active),s.classList.add(n.active)),i&&(i.style.display="none"),r.style.display="",function(t){t.offsetHeight<0&&alert()}(r),this._current=t,this.emit(u,{tab:s,content:r,current:t,previous:e})}},v.prototype.refresh=function(t){var o=this,e=this.host.querySelectorAll(this._config.selectors.tab),i=this.host.querySelectorAll(this._config.selectors.content);!function(t,e){[].forEach.call(t,e)}(e,function(t,e){var n=i[e];n&&(n.style.display="none",o._tabs.push(t),o._contents.push(n))}),this.switch(t)},v.prototype.destroy=function(){this._removeDelegate(),this.removeAllListeners(),this.host=this._tabs=this._contents=this._config=null},v);function p(){this.constructor=s}function v(t,e){var n=c.call(this)||this;return n.host=t,n._tabs=[],n._contents=[],n._config=v.config(e||{},!0),n.refresh(n._config.index),n._removeDelegate=i.bind(n.host)(n._config.event,n._config.selectors.tab,function(t){var e=n._tabs.indexOf(t);~e&&n.switch(e)}),n}t.Tab=h,Object.defineProperty(t,"__esModule",{value:!0})});
