!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).Invi={})}(this,function(t){"use strict";var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var f=function(){return(f=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function u(t){var e=Object.prototype.toString.call(t).split(" ")[1].slice(0,-1).toLowerCase();return e.match(/element$/)?"element":e}var e=function(){function t(){this.events={}}return t.prototype.on=function(t,e){(this.events[t]||(this.events[t]=[])).push(e)},t.prototype.off=function(t,e){this.events[t]&&this.events[t].splice(this.events[t].indexOf(e)>>>0,1)},t.prototype.removeAllListeners=function(){this.events={}},t.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];(this.events[t]||[]).slice().map(function(t){t.apply(void 0,e)})},t}();function s(t,e,n){void 0===n&&(n=document.body);for(var o,r,i,s=[],c=(o=n.querySelectorAll(e),r=function(t){return t},Array.prototype.map.call(o,r));t&&!~c.indexOf(t);)t=t!==n&&!(null!=(i=t)&&i.nodeType==i.DOCUMENT_NODE)&&t.parentNode;return t&&s.indexOf(t)<0&&s.push(t),s}var a="switch",c={selectors:{tab:"a",content:"article"},classes:{},event:"click",index:0},n=function(o){function r(t,e){void 0===e&&(e={});var n=o.call(this)||this;return n.current=0,n.tabs=[],n.contents=[],n.config=r.config(e,!0),n.host=t,n.config.index&&(n.current=n.config.index),n.refresh(),function(t,n,o){var r=this;r.addEventListener(t,function(t){var e=s(t.target,n,r)[0];e&&o(e,t)})}.bind(t)(n.config.event,n.config.selectors.tab,function(t){var e=n.tabs.indexOf(t);~e&&n.switch(e)}),n}return function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(r,o),r.config=function(t,e){var n=function t(e,n){var o=f({},e);if("object"!==u(n))return o;for(var r in n){var i=e[r],s=n[r],c=u(i);null!=i?c===u(s)&&(o[r]="object"===c?t(i,s):s):o[r]=s}return o}(c,t);if(e)return n;c=n},r.prototype.switch=function(e,t){var n=this;if((e!==this.current||t)&&this.tabs[e]){var o=this.current,r=this.config.classes,i=this.tabs[o],s=this.contents[o],c=this.tabs[e],f=this.contents[e];if(r.active&&([i,s].forEach(function(t){return t.classList.remove(r.active)}),[c,f].forEach(function(t){return t.classList.add(r.active)})),s.style.display="none",f.style.display="",this.current=e,!t)return new Promise(function(t){setTimeout(function(){n.emit(a,c,f,e,o),t({tab:c,content:f,current:e,previous:o})},0)})}},r.prototype.refresh=function(){var t,e,o=this,n=this.host.querySelectorAll(this.config.selectors.tab),r=this.host.querySelectorAll(this.config.selectors.content);t=n,e=function(t,e){var n=r[e];n&&(n.style.display="none",o.tabs.push(t),o.contents.push(n))},Array.prototype.forEach.call(t,e),this.switch(this.current,!0)},r.prototype.destroy=function(){this.removeAllListeners(),this.host=this.tabs=this.contents=this.config=null},r}(e);t.Tab=n,Object.defineProperty(t,"__esModule",{value:!0})});
