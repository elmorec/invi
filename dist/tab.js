!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).Invi={})}(this,function(t){"use strict";var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var f=function(){return(f=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function u(t){var e=Object.prototype.toString.call(t).split(" ")[1].slice(0,-1).toLowerCase();return e.match(/element$/)?"element":e}var e=function(){function t(){this.events={}}return t.prototype.on=function(t,e){(this.events[t]||(this.events[t]=[])).push(e)},t.prototype.off=function(t,e){this.events[t]&&this.events[t].splice(this.events[t].indexOf(e)>>>0,1)},t.prototype.removeAllListeners=function(){this.events={}},t.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];(this.events[t]||[]).slice().map(function(t){t.apply(void 0,e)})},t}();function s(t,e,n){void 0===n&&(n=document.body);for(var o,i,r,s=[],c=(o=n.querySelectorAll(e),i=function(t){return t},Array.prototype.map.call(o,i));t&&!~c.indexOf(t);)t=t!==n&&!(null!=(r=t)&&r.nodeType==r.DOCUMENT_NODE)&&t.parentNode;return t&&s.indexOf(t)<0&&s.push(t),s}var a="switch",c={selectors:{tab:"a",content:"article"},classes:{},event:"click",index:0},n=function(o){function i(t,e){void 0===e&&(e={});var n=o.call(this)||this;return n.current=0,n.tabs=[],n.contents=[],n.config=i.config(e,!0),n.host=t,n.config.index&&(n.current=n.config.index),n.refresh(),function(t,n,o){var i=this;i.addEventListener(t,function(t){var e=s(t.target,n,i)[0];e&&o(e,t)})}.bind(t)(n.config.event,n.config.selectors.tab,function(t){var e=n.tabs.indexOf(t);~e&&n.switch(e)}),n}return function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(i,o),i.config=function(t,e){var n=function t(e,n){var o=f({},e);if("object"!==u(n))return o;for(var i in n){var r=e[i],s=n[i],c=u(r);null!=r?c===u(s)&&(o[i]="object"===c?t(r,s):s):o[i]=s}return o}(c,t);if(e)return n;c=n},i.prototype.switch=function(e,t){var n=this;if((e!==this.current||t)&&this.tabs[e]){var o=this.current,i=this.config.classes,r=this.tabs[o],s=this.contents[o],c=this.tabs[e],f=this.contents[e];return i.active&&(r.classList.remove(i.active),c.classList.add(i.active)),s.style.display="none",f.style.display="",this.current=e,new Promise(function(t){setTimeout(function(){n.emit(a,c,f,e,o),t({tab:c,content:f,current:e,previous:o})},0)})}},i.prototype.refresh=function(){var t,e,o=this,n=this.host.querySelectorAll(this.config.selectors.tab),i=this.host.querySelectorAll(this.config.selectors.content);t=n,e=function(t,e){var n=i[e];n&&(n.style.display="none",o.tabs.push(t),o.contents.push(n))},Array.prototype.forEach.call(t,e),this.switch(this.current,!0)},i.prototype.destroy=function(){this.removeAllListeners(),this.host=this.tabs=this.contents=this.config=null},i}(e);t.Tab=n,Object.defineProperty(t,"__esModule",{value:!0})});
